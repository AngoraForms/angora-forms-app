{"version":3,"sources":["../../../src/server/send-payload/index.ts"],"names":["setRevalidateHeaders","sendEtagResponse","sendRenderResult","req","res","etag","setHeader","fresh","headers","statusCode","end","result","type","generateEtags","poweredByHeader","options","isResSent","payload","isDynamic","toUnchunkedString","generateETag","undefined","resultContentType","contentType","getHeader","RSC_CONTENT_TYPE_HEADER","Buffer","byteLength","method","pipe"],"mappings":";;;;;;;;;;;;;;;;IAcSA,oBAAoB;eAApBA,uCAAoB;;IAEbC,gBAAgB;eAAhBA;;IAwBMC,gBAAgB;eAAhBA;;;uBAtCI;sBACG;8DACX;mCAEmB;kCACG;;;;;;AASjC,SAASD,iBACdE,GAAoB,EACpBC,GAAmB,EACnBC,IAAwB,EACf;IACT,IAAIA,MAAM;QACR;;;;;KAKC,GACDD,IAAIE,SAAS,CAAC,QAAQD;IACxB,CAAC;IAED,IAAIE,IAAAA,cAAK,EAACJ,IAAIK,OAAO,EAAE;QAAEH;IAAK,IAAI;QAChCD,IAAIK,UAAU,GAAG;QACjBL,IAAIM,GAAG;QACP,OAAO,IAAI;IACb,CAAC;IAED,OAAO,KAAK;AACd;AAEO,eAAeR,iBAAiB,EACrCC,IAAG,EACHC,IAAG,EACHO,OAAM,EACNC,KAAI,EACJC,cAAa,EACbC,gBAAe,EACfC,QAAO,EASR,EAAiB;IAChB,IAAIC,IAAAA,gBAAS,EAACZ,MAAM;QAClB;IACF,CAAC;IAED,IAAIU,mBAAmBF,SAAS,QAAQ;QACtCR,IAAIE,SAAS,CAAC,gBAAgB;IAChC,CAAC;IAED,MAAMW,UAAUN,OAAOO,SAAS,KAAK,IAAI,GAAG,MAAMP,OAAOQ,iBAAiB,EAAE;IAE5E,IAAIF,YAAY,IAAI,EAAE;QACpB,MAAMZ,OAAOQ,gBAAgBO,IAAAA,kBAAY,EAACH,WAAWI,SAAS;QAC9D,IAAIpB,iBAAiBE,KAAKC,KAAKC,OAAO;YACpC;QACF,CAAC;IACH,CAAC;IAED,MAAMiB,oBAAoBX,OAAOY,WAAW;IAE5C,IAAI,CAACnB,IAAIoB,SAAS,CAAC,iBAAiB;QAClCpB,IAAIE,SAAS,CACX,gBACAgB,oBACIA,oBACAV,SAAS,QACTa,yCAAuB,GACvBb,SAAS,SACT,qBACA,0BAA0B;IAElC,CAAC;IAED,IAAIK,SAAS;QACXb,IAAIE,SAAS,CAAC,kBAAkBoB,OAAOC,UAAU,CAACV;IACpD,CAAC;IAED,IAAIF,WAAW,IAAI,EAAE;QACnBf,IAAAA,uCAAoB,EAACI,KAAKW;IAC5B,CAAC;IAED,IAAIZ,IAAIyB,MAAM,KAAK,QAAQ;QACzBxB,IAAIM,GAAG,CAAC,IAAI;IACd,OAAO,IAAIO,YAAY,IAAI,EAAE;QAC3Bb,IAAIM,GAAG,CAACO;IACV,OAAO;QACL,MAAMN,OAAOkB,IAAI,CAACzB;IACpB,CAAC;AACH"}