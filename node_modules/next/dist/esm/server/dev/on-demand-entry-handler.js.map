{"version":3,"sources":["../../../src/server/dev/on-demand-entry-handler.ts"],"names":["origDebug","EventEmitter","findPageFile","getStaticInfoIncludingLayouts","runDependingOnPageType","join","posix","normalizePathSep","normalizePagePath","ensureLeadingSlash","removePagePathTail","reportTrigger","getRouteFromEntrypoint","isInstrumentationHookFile","isInstrumentationHookFilename","isMiddlewareFile","isMiddlewareFilename","PageNotFoundError","COMPILER_INDEXES","COMPILER_NAMES","RSC_MODULE_TYPES","RouteKind","debug","keys","Object","COMPILER_KEYS","treePathToEntrypoint","segmentPath","parentPath","parallelRouteKey","segment","path","startsWith","length","childSegmentPath","slice","convertDynamicParamTypeToSyntax","dynamicParamTypeShort","param","Error","getEntryKey","compilerType","pageBundleType","page","replace","getPageBundleType","pageBundlePath","getEntrypointsFromTree","tree","isFirst","parallelRoutes","currentSegment","Array","isArray","isPageSegment","currentPath","reduce","paths","key","childTree","childPages","ADDED","Symbol","BUILDING","BUILT","EntryTypes","ENTRY","CHILD_ENTRY","entriesMap","Map","normalizeOutputPath","dir","getEntries","entries","get","set","invalidators","getInvalidator","doneCallbacks","lastClientAccessPages","lastServerAccessPagesForAppDir","Invalidator","constructor","multiCompiler","building","Set","rebuildAgain","shouldRebuildAll","size","invalidate","compilerKeys","has","add","compilers","watching","startBuilding","compilerKey","doneBuilding","rebuild","delete","push","willRebuild","disposeInactiveEntries","maxInactiveAge","forEach","entryKey","entryData","lastActiveTime","status","dispose","type","includes","Date","now","tryToNormalizePagePath","err","console","error","findPagePathData","rootDir","extensions","pagesDir","appDir","normalizedPagePath","pagePath","isInstrumentation","pageUrl","bundlePath","pageKey","normalize","absolutePagePath","keepIndex","require","resolve","findRoutePathData","match","definition","filename","onDemandEntryHandler","nextConfig","pagesBufferLength","curInvalidator","outputPath","curEntries","compilation","compilationName","name","compiler","hooks","make","tap","getPagePathsFromEntrypoints","entrypoints","root","pagePaths","entrypoint","values","done","multiStats","clientStats","serverStats","edgeServerStats","stats","entryNames","client","server","edgeServer","entry","emit","pingIntervalTime","Math","max","min","setInterval","unref","handleAppDirPing","pages","toSend","invalid","entryInfo","unshift","pop","success","handlePing","pg","ensurePage","clientOnly","appPaths","stalledTime","stalledEnsureTimeout","setTimeout","kind","APP_PAGE","route","pagePathData","pageExtensions","isInsideAppDir","addEntry","newEntry","shouldInvalidate","request","staticInfo","pageFilePath","isDev","config","added","isServerComponent","rsc","pageRuntime","runtime","pageType","onClient","onServer","edgeServerEntry","onEdgeServer","serverEntry","addedValues","entriesThatShouldBeInvalidated","filter","hasNewEntry","some","invalidatePromise","Promise","all","map","reject","once","needsRebuild","rebuildErr","clearTimeout","onHMR","addEventListener","data","parsedData","JSON","parse","toString","event","result","appDirRoute","send","stringify","_"],"mappings":"AACA,OAAOA,eAAe,2BAA0B;AAQhD,SAASC,YAAY,QAAQ,SAAQ;AACrC,SAASC,YAAY,QAAQ,wBAAuB;AACpD,SACEC,6BAA6B,EAC7BC,sBAAsB,QACjB,sBAAqB;AAC5B,SAASC,IAAI,EAAEC,KAAK,QAAQ,OAAM;AAClC,SAASC,gBAAgB,QAAQ,gDAA+C;AAChF,SAASC,iBAAiB,QAAQ,iDAAgD;AAClF,SAASC,kBAAkB,QAAQ,kDAAiD;AACpF,SAASC,kBAAkB,QAAQ,mDAAkD;AACrF,SAASC,aAAa,QAAQ,qBAAoB;AAClD,OAAOC,4BAA4B,+BAA8B;AACjE,SACEC,yBAAyB,EACzBC,6BAA6B,EAC7BC,gBAAgB,EAChBC,oBAAoB,QACf,oBAAmB;AAC1B,SAASC,iBAAiB,QAAQ,yBAAwB;AAC1D,SAEEC,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,QACX,6BAA4B;AAEnC,SAASC,SAAS,QAAQ,uBAAsB;AAGhD,MAAMC,QAAQtB,UAAU;AAExB;;CAEC,GACD,MAAMuB,OAAOC,OAAOD,IAAI;AAExB,MAAME,gBAAgBF,KAAKL;AAE3B,SAASQ,qBACPC,WAAqB,EACrBC,UAAmB,EACX;IACR,MAAM,CAACC,kBAAkBC,QAAQ,GAAGH;IAEpC,kEAAkE;IAClE,MAAMI,OACJ,AAACH,CAAAA,aAAaA,aAAa,MAAM,EAAE,AAAD,IACjCC,CAAAA,qBAAqB,cAAc,CAACC,QAAQE,UAAU,CAAC,OACpD,CAAC,CAAC,EAAEH,iBAAiB,CAAC,CAAC,GACvB,EAAE,AAAD,IACJC,CAAAA,YAAY,KAAK,SAASA,OAAO,AAAD;IAEnC,eAAe;IACf,IAAIH,YAAYM,MAAM,KAAK,GAAG;QAC5B,OAAOF;IACT,CAAC;IAED,MAAMG,mBAAmBP,YAAYQ,KAAK,CAAC;IAC3C,OAAOT,qBAAqBQ,kBAAkBH;AAChD;AAEA,SAASK,gCACPC,qBAA6C,EAC7CC,KAAa,EACb;IACA,OAAQD;QACN,KAAK;YACH,OAAO,CAAC,IAAI,EAAEC,MAAM,CAAC,CAAC;QACxB,KAAK;YACH,OAAO,CAAC,KAAK,EAAEA,MAAM,EAAE,CAAC;QAC1B,KAAK;YACH,OAAO,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC;QACrB;YACE,MAAM,IAAIC,MAAM,8BAA6B;IACjD;AACF;AAEA;;;;;;CAMC,GAED,OAAO,SAASC,YACdC,YAAgC,EAChCC,cAAwC,EACxCC,IAAY,EACZ;IACA,0CAA0C;IAC1C,8FAA8F;IAC9F,OAAO,CAAC,EAAEF,aAAa,CAAC,EAAEC,eAAe,CAAC,EAAEC,KAAKC,OAAO,CAAC,gBAAgB,IAAI,CAAC;AAChF,CAAC;AAED,SAASC,kBAAkBC,cAAsB,EAAE;IACjD,kCAAkC;IAClC,IAAIA,mBAAmB,WAAW,OAAO;IACzC,IAAI9B,qBAAqB8B,iBAAiB,OAAO;IACjD,OAAOA,eAAed,UAAU,CAAC,YAC7B,UACAc,eAAed,UAAU,CAAC,UAC1B,QACA,MAAM;AACZ;AAEA,SAASe,uBACPC,IAAuB,EACvBC,OAAgB,EAChBrB,aAAuB,EAAE,EACzB;IACA,MAAM,CAACE,SAASoB,eAAe,GAAGF;IAElC,MAAMG,iBAAiBC,MAAMC,OAAO,CAACvB,WACjCM,gCAAgCN,OAAO,CAAC,EAAE,EAAEA,OAAO,CAAC,EAAE,IACtDA,OAAO;IAEX,MAAMwB,gBAAgBH,eAAenB,UAAU,CAAC;IAEhD,MAAMuB,cAAc;WAAI3B;QAAY0B,gBAAgB,KAAKH,cAAc;KAAC;IAExE,IAAI,CAACF,WAAWK,eAAe;QAC7B,0CAA0C;QAC1C,OAAO;YAAC5B,qBAAqB6B,YAAYpB,KAAK,CAAC;SAAI;IACrD,CAAC;IAED,OAAOX,OAAOD,IAAI,CAAC2B,gBAAgBM,MAAM,CACvC,CAACC,OAAiBC,MAA0B;QAC1C,MAAMC,YAAYT,cAAc,CAACQ,IAAI;QACrC,MAAME,aAAab,uBAAuBY,WAAW,KAAK,EAAE;eACvDJ;YACHG;SACD;QACD,OAAO;eAAID;eAAUG;SAAW;IAClC,GACA,EAAE;AAEN;AAEA,OAAO,MAAMC,QAAQC,OAAO,SAAQ;AACpC,OAAO,MAAMC,WAAWD,OAAO,YAAW;AAC1C,OAAO,MAAME,QAAQF,OAAO,SAAQ;WA8B7B;UAAWG,UAAU;IAAVA,WAAAA,WAChBC,WAAAA,KAAAA;IADgBD,WAAAA,WAEhBE,iBAAAA,KAAAA;GAFgBF,eAAAA;AA+BlB,MAAMG,aASF,IAAIC;AAER,wDAAwD;AACxD,MAAMC,sBAAsB,CAACC,MAAgBA,IAAI3B,OAAO,CAAC,gBAAgB;AAEzE,OAAO,MAAM4B,aAAa,CACxBD,MACsD;IACtDA,MAAMD,oBAAoBC;IAC1B,MAAME,UAAUL,WAAWM,GAAG,CAACH,QAAQ,CAAC;IACxCH,WAAWO,GAAG,CAACJ,KAAKE;IACpB,OAAOA;AACT,EAAC;AAED,MAAMG,eAAyC,IAAIP;AAEnD,OAAO,MAAMQ,iBAAiB,CAACN,MAAgB;IAC7CA,MAAMD,oBAAoBC;IAC1B,OAAOK,aAAaF,GAAG,CAACH;AAC1B,EAAC;AAED,MAAMO,gBAA8B,IAAI7E;AACxC,MAAM8E,wBAAwB;IAAC;CAAG;AAClC,MAAMC,iCAAiC;IAAC;CAAG;AAK3C,oDAAoD;AACpD,6EAA6E;AAC7E,MAAMC;IAMJC,YAAYC,aAAoC,CAAE;aAH1CC,WAA4B,IAAIC;aAChCC,eAA+B,IAAID;QAGzC,IAAI,CAACF,aAAa,GAAGA;IACvB;IAEOI,mBAAmB;QACxB,OAAO,IAAI,CAACD,YAAY,CAACE,IAAI,GAAG;IAClC;IAEAC,WAAWC,eAAqCjE,aAAa,EAAQ;QACnE,KAAK,MAAMiC,OAAOgC,aAAc;gBAY9B;YAXA,+EAA+E;YAC/E,sDAAsD;YACtD,sDAAsD;YACtD,gDAAgD;YAEhD,IAAI,IAAI,CAACN,QAAQ,CAACO,GAAG,CAACjC,MAAM;gBAC1B,IAAI,CAAC4B,YAAY,CAACM,GAAG,CAAClC;gBACtB,QAAQ;YACV,CAAC;YAED,IAAI,CAAC0B,QAAQ,CAACQ,GAAG,CAAClC;YAClB,CAAA,8DAAA,IAAI,CAACyB,aAAa,CAACU,SAAS,CAAC3E,gBAAgB,CAACwC,IAAI,CAAC,CAACoC,QAAQ,YAA5D,KAAA,IAAA,4DAA8DL;QAChE;IACF;IAEOM,cAAcC,WAA0C,EAAE;QAC/D,IAAI,CAACZ,QAAQ,CAACQ,GAAG,CAACI;IACpB;IAEOC,aAAaP,eAAqC,EAAE,EAAE;QAC3D,MAAMQ,UAAgC,EAAE;QACxC,KAAK,MAAMxC,OAAOgC,aAAc;YAC9B,IAAI,CAACN,QAAQ,CAACe,MAAM,CAACzC;YAErB,IAAI,IAAI,CAAC4B,YAAY,CAACK,GAAG,CAACjC,MAAM;gBAC9BwC,QAAQE,IAAI,CAAC1C;gBACb,IAAI,CAAC4B,YAAY,CAACa,MAAM,CAACzC;YAC3B,CAAC;QACH;QACA,IAAI,CAAC+B,UAAU,CAACS;IAClB;IAEOG,YAAYL,WAA0C,EAAE;QAC7D,OAAO,IAAI,CAACV,YAAY,CAACK,GAAG,CAACK;IAC/B;AACF;AAEA,SAASM,uBACP7B,OAA0D,EAC1D8B,cAAsB,EACtB;IACA/E,OAAOD,IAAI,CAACkD,SAAS+B,OAAO,CAAC,CAACC,WAAa;QACzC,MAAMC,YAAYjC,OAAO,CAACgC,SAAS;QACnC,MAAM,EAAEE,eAAc,EAAEC,OAAM,EAAEC,QAAO,EAAE,GAAGH;QAE5C,+CAA+C;QAC/C,IAAIA,UAAUI,IAAI,KAlIpB3C,GAkIiD;YAC7C;QACF,CAAC;QAED,IAAI0C,SACF,6CAA6C;QAC7C;QAEF,4DAA4D;QAC5D,0CAA0C;QAC1C,IAAID,WAAW5C,OAAO;QAEtB,0EAA0E;QAC1E,kFAAkF;QAClF,+DAA+D;QAC/D,IACEe,sBAAsBgC,QAAQ,CAACN,aAC/BzB,+BAA+B+B,QAAQ,CAACN,WAExC;QAEF,IAAIE,kBAAkBK,KAAKC,GAAG,KAAKN,iBAAiBJ,gBAAgB;YAClE9B,OAAO,CAACgC,SAAS,CAACI,OAAO,GAAG,IAAI;QAClC,CAAC;IACH;AACF;AAEA,0CAA0C;AAC1C,SAASK,uBAAuBvE,IAAY,EAAE;IAC5C,IAAI;QACF,OAAOnC,kBAAkBmC;IAC3B,EAAE,OAAOwE,KAAK;QACZC,QAAQC,KAAK,CAACF;QACd,MAAM,IAAIlG,kBAAkB0B,MAAK;IACnC;AACF;AAEA;;;;;;;;;CASC,GACD,eAAe2E,iBACbC,OAAe,EACf5E,IAAY,EACZ6E,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACf;IACA,MAAMC,qBAAqBT,uBAAuBvE;IAClD,IAAIiF,WAA0B,IAAI;IAElC,MAAMC,oBAAoBhH,0BAA0B8G;IACpD,IAAI5G,iBAAiB4G,uBAAuBE,mBAAmB;QAC7DD,WAAW,MAAM1H,aACfqH,SACAI,oBACAH,YACA,KAAK;QAGP,IAAI,CAACI,UAAU;YACb,MAAM,IAAI3G,kBAAkB0G,oBAAmB;QACjD,CAAC;QAED,MAAMG,UAAUrH,mBACdC,mBAAmBH,iBAAiBqH,WAAW;YAC7CJ;QACF;QAGF,IAAIO,aAAaJ;QACjB,IAAIK,UAAU1H,MAAM2H,SAAS,CAACH;QAE9B,IAAID,mBAAmB;YACrBE,aAAaA,WAAWnF,OAAO,CAAC,QAAQ;YACxCoF,UAAUrF,KAAKC,OAAO,CAAC,QAAQ;QACjC,CAAC;QAED,OAAO;YACLsF,kBAAkB7H,KAAKkH,SAASK;YAChCG,YAAYA,WAAW5F,KAAK,CAAC;YAC7BQ,MAAMqF;QACR;IACF,CAAC;IAED,8CAA8C;IAC9C,IAAIN,QAAQ;QACVE,WAAW,MAAM1H,aAAawH,QAAQC,oBAAoBH,YAAY,IAAI;QAC1E,IAAII,UAAU;YACZ,MAAME,UAAUrH,mBACdC,mBAAmBH,iBAAiBqH,WAAW;gBAC7CO,WAAW,IAAI;gBACfX;YACF;YAGF,OAAO;gBACLU,kBAAkB7H,KAAKqH,QAAQE;gBAC/BG,YAAYzH,MAAMD,IAAI,CAAC,OAAOyH;gBAC9BnF,MAAMrC,MAAM2H,SAAS,CAACH;YACxB;QACF,CAAC;IACH,CAAC;IAED,IAAI,CAACF,YAAYH,UAAU;QACzBG,WAAW,MAAM1H,aACfuH,UACAE,oBACAH,YACA,KAAK;IAET,CAAC;IAED,IAAII,aAAa,IAAI,IAAIH,UAAU;QACjC,MAAMK,UAAUrH,mBACdC,mBAAmBH,iBAAiBqH,WAAW;YAC7CJ;QACF;QAGF,OAAO;YACLU,kBAAkB7H,KAAKoH,UAAUG;YACjCG,YAAYzH,MAAMD,IAAI,CAAC,SAASG,kBAAkBsH;YAClDnF,MAAMrC,MAAM2H,SAAS,CAACH;QACxB;IACF,CAAC;IAED,IAAInF,SAAS,WAAW;QACtB,OAAO;YACLuF,kBAAkBE,QAAQC,OAAO,CAAC;YAClCN,YAAYpF;YACZA,MAAMpC,iBAAiBoC;QACzB;IACF,OAAO;QACL,MAAM,IAAI1B,kBAAkB0G,oBAAmB;IACjD,CAAC;AACH;AAEA,eAAeW,kBACbf,OAAe,EACf5E,IAAY,EACZ6E,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACfa,KAAkB,EACmB;IACrC,IAAIA,OAAO;QACT,yEAAyE;QACzE,cAAc;QACd,OAAO;YACLL,kBAAkBK,MAAMC,UAAU,CAACC,QAAQ;YAC3C9F,MAAM4F,MAAMC,UAAU,CAAC7F,IAAI;YAC3BoF,YAAYQ,MAAMC,UAAU,CAACT,UAAU;QACzC;IACF,CAAC;IAED,OAAOT,iBAAiBC,SAAS5E,MAAM6E,YAAYC,UAAUC;AAC/D;AAEA,OAAO,SAASgB,qBAAqB,EACnCnC,eAAc,EACdpB,cAAa,EACbwD,WAAU,EACVC,kBAAiB,EACjBnB,SAAQ,EACRF,QAAO,EACPG,OAAM,EASP,EAAE;IACD,IAAImB,iBAA8BhE,eAChCM,cAAc2D,UAAU;IAE1B,IAAIC,aAAavE,WAAWW,cAAc2D,UAAU;IAEpD,IAAI,CAACD,gBAAgB;QACnBA,iBAAiB,IAAI5D,YAAYE;QACjCP,aAAaD,GAAG,CAACQ,cAAc2D,UAAU,EAAED;IAC7C,CAAC;IAED,MAAM9C,gBAAgB,CAACiD,cAAqC;QAC1D,MAAMC,kBAAkBD,YAAYE,IAAI;QACxCL,eAAe9C,aAAa,CAACkD;IAC/B;IACA,KAAK,MAAME,YAAYhE,cAAcU,SAAS,CAAE;QAC9CsD,SAASC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,yBAAyBvD;IACnD;IAEA,SAASwD,4BACPzC,IAAwB,EACxB0C,WAA2C,EAC3CC,IAAc,EACd;QACA,MAAMC,YAAsB,EAAE;QAC9B,KAAK,MAAMC,cAAcH,YAAYI,MAAM,GAAI;YAC7C,MAAMjH,OAAO/B,uBAAuB+I,WAAWT,IAAI,EAAGO;YAEtD,IAAI9G,MAAM;oBACegH;gBAAvB,MAAMjH,iBAAiBiH,CAAAA,CAAAA,mBAAAA,WAAWT,IAAI,YAAfS,KAAAA,IAAAA,iBAAiB3H,WAAW,WAC/C,QACA,OAAO;gBACX0H,UAAUtD,IAAI,CAAC5D,YAAYsE,MAAMpE,gBAAgBC;YACnD,OAAO,IACL,AAAC8G,QAAQE,WAAWT,IAAI,KAAK,UAC7BlI,qBAAqB2I,WAAWT,IAAI,KACpCpI,8BAA8B6I,WAAWT,IAAI,GAC7C;gBACAQ,UAAUtD,IAAI,CAAC5D,YAAYsE,MAAM,QAAQ,CAAC,CAAC,EAAE6C,WAAWT,IAAI,CAAC,CAAC;YAChE,CAAC;QACH;QACA,OAAOQ;IACT;IAEA,KAAK,MAAMP,YAAYhE,cAAcU,SAAS,CAAE;QAC9CsD,SAASC,KAAK,CAACS,IAAI,CAACP,GAAG,CAAC,yBAAyB;gBAC/CzE;YAAAA,OAAAA,CAAAA,kBAAAA,eAAesE,SAASL,UAAU,aAAlCjE,KAAAA,IAAAA,gBAAqCoB,aAAa;gBAChDkD,SAASD,IAAI;aACd;;IAEL;IAEA/D,cAAciE,KAAK,CAACS,IAAI,CAACP,GAAG,CAAC,yBAAyB,CAACQ,aAAe;YAqCpEjF;QApCA,MAAM,CAACkF,aAAaC,aAAaC,gBAAgB,GAAGH,WAAWI,KAAK;QACpE,MAAMT,OAAO,CAAC,CAAC/B;QACf,MAAMyC,aAAa;eACdZ,4BACDpI,eAAeiJ,MAAM,EACrBL,YAAYf,WAAW,CAACQ,WAAW,EACnCC;eAECF,4BACDpI,eAAekJ,MAAM,EACrBL,YAAYhB,WAAW,CAACQ,WAAW,EACnCC;eAEEQ,kBACAV,4BACEpI,eAAemJ,UAAU,EACzBL,gBAAgBjB,WAAW,CAACQ,WAAW,EACvCC,QAEF,EAAE;SACP;QAED,KAAK,MAAMP,QAAQiB,WAAY;YAC7B,MAAMI,QAAQxB,UAAU,CAACG,KAAK;YAC9B,IAAI,CAACqB,OAAO;gBACV,QAAQ;YACV,CAAC;YAED,IAAIA,MAAM3D,MAAM,KAAK7C,UAAU;gBAC7B,QAAQ;YACV,CAAC;YAEDwG,MAAM3D,MAAM,GAAG5C;YACfc,cAAc0F,IAAI,CAACtB;QACrB;QAEArE,CAAAA,kBAAAA,eAAeM,cAAc2D,UAAU,aAAvCjE,KAAAA,IAAAA,gBAA0CoB,aAAa;eAAIxE;SAAc;IAC3E;IAEA,MAAMgJ,mBAAmBC,KAAKC,GAAG,CAAC,MAAMD,KAAKE,GAAG,CAAC,MAAMrE;IAEvDsE,YAAY,WAAY;QACtBvE,uBAAuByC,YAAYxC;IACrC,GAAGkE,mBAAmB,MAAMK,KAAK;IAEjC,SAASC,iBACP/H,IAAuB,EACgB;QACvC,MAAMgI,QAAQjI,uBAAuBC,MAAM,IAAI;QAC/C,IAAIiI,SAAgD;YAAEC,SAAS,IAAI;QAAC;QAEpE,KAAK,MAAMvI,QAAQqI,MAAO;YACxB,KAAK,MAAMvI,gBAAgB;gBACzBtB,eAAeiJ,MAAM;gBACrBjJ,eAAekJ,MAAM;gBACrBlJ,eAAemJ,UAAU;aAC1B,CAAE;gBACD,MAAM7D,WAAWjE,YAAYC,cAAc,OAAO,CAAC,CAAC,EAAEE,KAAK,CAAC;gBAC5D,MAAMwI,YAAYpC,UAAU,CAACtC,SAAS;gBAEtC,8EAA8E;gBAC9E,IAAI,CAAC0E,WAAW;oBAEd,QAAQ;gBACV,CAAC;gBAED,8EAA8E;gBAC9E,IAAIA,UAAUvE,MAAM,KAAK5C,OAAO,QAAQ;gBAExC,0BAA0B;gBAC1B,IAAI,CAACgB,+BAA+B+B,QAAQ,CAACN,WAAW;oBACtDzB,+BAA+BoG,OAAO,CAAC3E;oBAEvC,iCAAiC;oBACjC,yGAAyG;oBACzG,IAAIzB,+BAA+B/C,MAAM,GAAG2G,mBAAmB;wBAC7D5D,+BAA+BqG,GAAG;oBACpC,CAAC;gBACH,CAAC;gBACDF,UAAUxE,cAAc,GAAGK,KAAKC,GAAG;gBACnCkE,UAAUtE,OAAO,GAAG,KAAK;gBACzBoE,SAAS;oBAAEK,SAAS,IAAI;gBAAC;YAC3B;QACF;QAEA,OAAOL;IACT;IAEA,SAASM,WAAWC,EAAU,EAAE;QAC9B,MAAM7I,OAAOpC,iBAAiBiL;QAC9B,IAAIP,SAAgD;YAAEC,SAAS,IAAI;QAAC;QAEpE,KAAK,MAAMzI,gBAAgB;YACzBtB,eAAeiJ,MAAM;YACrBjJ,eAAekJ,MAAM;YACrBlJ,eAAemJ,UAAU;SAC1B,CAAE;YACD,MAAM7D,WAAWjE,YAAYC,cAAc,SAASE;YACpD,MAAMwI,YAAYpC,UAAU,CAACtC,SAAS;YAEtC,8EAA8E;YAC9E,IAAI,CAAC0E,WAAW;gBACd,sEAAsE;gBACtE,IAAI1I,iBAAiBtB,eAAeiJ,MAAM,EAAE;oBAC1C,OAAO;wBAAEc,SAAS,IAAI;oBAAC;gBACzB,CAAC;gBACD,QAAQ;YACV,CAAC;YAED,qFAAqF;YACrFD,SAAStI,SAAS,YAAY;gBAAEuI,SAAS,IAAI;YAAC,IAAI;gBAAEI,SAAS,IAAI;YAAC,CAAC;YAEnE,8EAA8E;YAC9E,IAAIH,UAAUvE,MAAM,KAAK5C,OAAO,QAAQ;YAExC,0BAA0B;YAC1B,IAAI,CAACe,sBAAsBgC,QAAQ,CAACN,WAAW;gBAC7C1B,sBAAsBqG,OAAO,CAAC3E;gBAE9B,iCAAiC;gBACjC,IAAI1B,sBAAsB9C,MAAM,GAAG2G,mBAAmB;oBACpD7D,sBAAsBsG,GAAG;gBAC3B,CAAC;YACH,CAAC;YACDF,UAAUxE,cAAc,GAAGK,KAAKC,GAAG;YACnCkE,UAAUtE,OAAO,GAAG,KAAK;QAC3B;QACA,OAAOoE;IACT;IAEA,OAAO;QACL,MAAMQ,YAAW,EACf9I,KAAI,EACJ+I,WAAU,EACVC,UAAW,IAAI,CAAA,EACfpD,MAAK,EAMN,EAAiB;YAChB,MAAMqD,cAAc;YACpB,MAAMC,uBAAuBC,WAAW,IAAM;gBAC5CxK,MACE,CAAC,SAAS,EAAEqB,KAAK,uBAAuB,EAAEiJ,YAAY,+CAA+C,CAAC;YAE1G,GAAGA,cAAc;YAEjB,yEAAyE;YACzE,+DAA+D;YAC/D,IAAIrD,CAAAA,gBAAAA,KAAAA,IAAAA,MAAOC,UAAU,CAACuD,IAAI,MAAK1K,UAAU2K,QAAQ,EAAE;gBACjD,MAAM,EAAExD,YAAYyD,MAAK,EAAE,GAAG1D;gBAC9BoD,WAAWM,MAAMN,QAAQ;YAC3B,CAAC;YAED,IAAI;gBACF,MAAMO,eAAe,MAAM5D,kBACzBf,SACA5E,MACAgG,WAAWwD,cAAc,EACzB1E,UACAC,QACAa;gBAGF,MAAM6D,iBACJ,CAAC,CAAC1E,UAAUwE,aAAahE,gBAAgB,CAAClG,UAAU,CAAC0F;gBAEvD,MAAMhF,iBAAiBG,kBAAkBqJ,aAAanE,UAAU;gBAChE,MAAMsE,WAAW,CACf5J,eAKG;oBACH,MAAMgE,WAAWjE,YACfC,cACAC,gBACAwJ,aAAavJ,IAAI;oBAEnB,IACEoG,UAAU,CAACtC,SAAS,IACpB,sGAAsG;oBACtG,4HAA4H;oBAC5H,+FAA+F;oBAC/F,CAAC3F,8BAA8BiI,UAAU,CAACtC,SAAS,CAACsB,UAAU,GAC9D;wBACAgB,UAAU,CAACtC,SAAS,CAACI,OAAO,GAAG,KAAK;wBACpCkC,UAAU,CAACtC,SAAS,CAACE,cAAc,GAAGK,KAAKC,GAAG;wBAC9C,IAAI8B,UAAU,CAACtC,SAAS,CAACG,MAAM,KAAK5C,OAAO;4BACzC,OAAO;gCACLyC;gCACA6F,UAAU,KAAK;gCACfC,kBAAkB,KAAK;4BACzB;wBACF,CAAC;wBAED,OAAO;4BACL9F;4BACA6F,UAAU,KAAK;4BACfC,kBAAkB,IAAI;wBACxB;oBACF,CAAC;oBAEDxD,UAAU,CAACtC,SAAS,GAAG;wBACrBK,MA5jBV5C;wBA6jBUyH;wBACAzD,kBAAkBgE,aAAahE,gBAAgB;wBAC/CsE,SAASN,aAAahE,gBAAgB;wBACtCH,YAAYmE,aAAanE,UAAU;wBACnClB,SAAS,KAAK;wBACdF,gBAAgBK,KAAKC,GAAG;wBACxBL,QAAQ/C;oBACV;oBACA,OAAO;wBACL4C,UAAUA;wBACV6F,UAAU,IAAI;wBACdC,kBAAkB,IAAI;oBACxB;gBACF;gBAEA,MAAME,aAAa,MAAMtM,8BAA8B;oBACrDwC;oBACA+J,cAAcR,aAAahE,gBAAgB;oBAC3CkE;oBACAD,gBAAgBxD,WAAWwD,cAAc;oBACzCQ,OAAO,IAAI;oBACXC,QAAQjE;oBACRjB;gBACF;gBAEA,MAAMmF,QAAQ,IAAIxI;gBAClB,MAAMyI,oBACJV,kBAAkBK,WAAWM,GAAG,KAAK3L,iBAAiBgJ,MAAM;gBAE9D,MAAMhK,uBAAuB;oBAC3BuC,MAAMuJ,aAAavJ,IAAI;oBACvBqK,aAAaP,WAAWQ,OAAO;oBAC/BC,UAAUxK;oBACVyK,UAAU,IAAM;wBACd,4DAA4D;wBAC5D,IAAIL,qBAAqBV,gBAAgB;4BACvC;wBACF,CAAC;wBACDS,MAAMlI,GAAG,CAACxD,eAAeiJ,MAAM,EAAEiC,SAASlL,eAAeiJ,MAAM;oBACjE;oBACAgD,UAAU,IAAM;wBACdP,MAAMlI,GAAG,CAACxD,eAAekJ,MAAM,EAAEgC,SAASlL,eAAekJ,MAAM;wBAC/D,MAAMgD,kBAAkB7K,YACtBrB,eAAemJ,UAAU,EACzB5H,gBACAwJ,aAAavJ,IAAI;wBAEnB,IACEoG,UAAU,CAACsE,gBAAgB,IAC3B,CAACxM,0BAA0BqL,aAAavJ,IAAI,GAC5C;4BACA,uCAAuC;4BACvC,OAAOoG,UAAU,CAACsE,gBAAgB;wBACpC,CAAC;oBACH;oBACAC,cAAc,IAAM;wBAClBT,MAAMlI,GAAG,CACPxD,eAAemJ,UAAU,EACzB+B,SAASlL,eAAemJ,UAAU;wBAEpC,MAAMiD,cAAc/K,YAClBrB,eAAekJ,MAAM,EACrB3H,gBACAwJ,aAAavJ,IAAI;wBAEnB,IACEoG,UAAU,CAACwE,YAAY,IACvB,CAAC1M,0BAA0BqL,aAAavJ,IAAI,GAC5C;4BACA,uCAAuC;4BACvC,OAAOoG,UAAU,CAACwE,YAAY;wBAChC,CAAC;oBACH;gBACF;gBAEA,MAAMC,cAAc;uBAAIX,MAAMjD,MAAM;iBAAG;gBACvC,MAAM6D,iCAAiC;uBAAIZ,MAAMpI,OAAO;iBAAG,CAACiJ,MAAM,CAChE,CAAC,GAAGnD,MAAM,GAAKA,MAAMgC,gBAAgB;gBAEvC,MAAMoB,cAAcH,YAAYI,IAAI,CAAC,CAACrD,QAAUA,MAAM+B,QAAQ;gBAE9D,IAAIqB,aAAa;oBACfhN,cACE,CAAC+K,cAAciC,cACX,CAAC,EAAEzB,aAAavJ,IAAI,CAAC,oBAAoB,CAAC,GAC1CuJ,aAAavJ,IAAI;gBAEzB,CAAC;gBAED,IAAI8K,+BAA+BxL,MAAM,GAAG,GAAG;oBAC7C,MAAM4L,oBAAoBC,QAAQC,GAAG,CACnCN,+BAA+BO,GAAG,CAChC,CAAC,CAAChI,aAAa,EAAES,SAAQ,EAAE,CAAC,GAAK;wBAC/B,OAAO,IAAIqH,QAAc,CAACzF,SAAS4F,SAAW;4BAC5CnJ,cAAcoJ,IAAI,CAACzH,UAAU,CAACU,MAAe;gCAC3C,IAAIA,KAAK;oCACP,OAAO8G,OAAO9G;gCAChB,CAAC;gCAED,0DAA0D;gCAC1D,6DAA6D;gCAC7D,MAAMgH,eAAetF,eAAexC,WAAW,CAACL;gCAChD,IAAImI,cAAc;oCAChBrJ,cAAcoJ,IAAI,CAACzH,UAAU,CAAC2H,aAAsB;wCAClD,IAAIA,YAAY;4CACd,OAAOH,OAAOG;wCAChB,CAAC;wCACD/F;oCACF;gCACF,OAAO;oCACLA;gCACF,CAAC;4BACH;wBACF;oBACF;oBAIJQ,eAAepD,UAAU,CAAC;2BAAIoH,MAAMtL,IAAI;qBAAG;oBAC3C,MAAMsM;gBACR,CAAC;YACH,SAAU;gBACRQ,aAAaxC;YACf;QACF;QAEAyC,OAAMlE,MAAU,EAAE;YAChBA,OAAOmE,gBAAgB,CAAC,WAAW,CAAC,EAAEC,KAAI,EAAE,GAAK;gBAC/C,IAAI;oBACF,MAAMC,aAAaC,KAAKC,KAAK,CAC3B,OAAOH,SAAS,WAAWA,KAAKI,QAAQ,KAAKJ,IAAI;oBAGnD,IAAIC,WAAWI,KAAK,KAAK,QAAQ;wBAC/B,MAAMC,SAASL,WAAWM,WAAW,GACjChE,iBAAiB0D,WAAWzL,IAAI,IAChCuI,WAAWkD,WAAW9L,IAAI,CAAC;wBAC/ByH,OAAO4E,IAAI,CACTN,KAAKO,SAAS,CAAC;4BACb,GAAGH,MAAM;4BACT,CAACL,WAAWM,WAAW,GAAG,WAAW,OAAO,CAAC,EAAE;wBACjD;oBAEJ,CAAC;gBACH,EAAE,OAAOG,GAAG,CAAC;YACf;QACF;IACF;AACF,CAAC"}