{"version":3,"sources":["../../../src/server/send-payload/index.ts"],"names":["isResSent","generateETag","fresh","setRevalidateHeaders","RSC_CONTENT_TYPE_HEADER","sendEtagResponse","req","res","etag","setHeader","headers","statusCode","end","sendRenderResult","result","type","generateEtags","poweredByHeader","options","payload","isDynamic","toUnchunkedString","undefined","resultContentType","contentType","getHeader","Buffer","byteLength","method","pipe"],"mappings":"AAEA,SAASA,SAAS,QAAQ,yBAAwB;AAClD,SAASC,YAAY,QAAQ,cAAa;AAC1C,OAAOC,WAAW,2BAA0B;AAE5C,SAASC,oBAAoB,QAAQ,uBAAsB;AAC3D,SAASC,uBAAuB,QAAQ,6CAA4C;AAOpF,SAASD,oBAAoB,GAAE;AAE/B,OAAO,SAASE,iBACdC,GAAoB,EACpBC,GAAmB,EACnBC,IAAwB,EACf;IACT,IAAIA,MAAM;QACR;;;;;KAKC,GACDD,IAAIE,SAAS,CAAC,QAAQD;IACxB,CAAC;IAED,IAAIN,MAAMI,IAAII,OAAO,EAAE;QAAEF;IAAK,IAAI;QAChCD,IAAII,UAAU,GAAG;QACjBJ,IAAIK,GAAG;QACP,OAAO,IAAI;IACb,CAAC;IAED,OAAO,KAAK;AACd,CAAC;AAED,OAAO,eAAeC,iBAAiB,EACrCP,IAAG,EACHC,IAAG,EACHO,OAAM,EACNC,KAAI,EACJC,cAAa,EACbC,gBAAe,EACfC,QAAO,EASR,EAAiB;IAChB,IAAIlB,UAAUO,MAAM;QAClB;IACF,CAAC;IAED,IAAIU,mBAAmBF,SAAS,QAAQ;QACtCR,IAAIE,SAAS,CAAC,gBAAgB;IAChC,CAAC;IAED,MAAMU,UAAUL,OAAOM,SAAS,KAAK,IAAI,GAAG,MAAMN,OAAOO,iBAAiB,EAAE;IAE5E,IAAIF,YAAY,IAAI,EAAE;QACpB,MAAMX,OAAOQ,gBAAgBf,aAAakB,WAAWG,SAAS;QAC9D,IAAIjB,iBAAiBC,KAAKC,KAAKC,OAAO;YACpC;QACF,CAAC;IACH,CAAC;IAED,MAAMe,oBAAoBT,OAAOU,WAAW;IAE5C,IAAI,CAACjB,IAAIkB,SAAS,CAAC,iBAAiB;QAClClB,IAAIE,SAAS,CACX,gBACAc,oBACIA,oBACAR,SAAS,QACTX,0BACAW,SAAS,SACT,qBACA,0BAA0B;IAElC,CAAC;IAED,IAAII,SAAS;QACXZ,IAAIE,SAAS,CAAC,kBAAkBiB,OAAOC,UAAU,CAACR;IACpD,CAAC;IAED,IAAID,WAAW,IAAI,EAAE;QACnBf,qBAAqBI,KAAKW;IAC5B,CAAC;IAED,IAAIZ,IAAIsB,MAAM,KAAK,QAAQ;QACzBrB,IAAIK,GAAG,CAAC,IAAI;IACd,OAAO,IAAIO,YAAY,IAAI,EAAE;QAC3BZ,IAAIK,GAAG,CAACO;IACV,OAAO;QACL,MAAML,OAAOe,IAAI,CAACtB;IACpB,CAAC;AACH,CAAC"}