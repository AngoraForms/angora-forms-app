{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["ClientReferenceEntryPlugin","PLUGIN_NAME","pluginState","getProxiedPluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverCSSManifest","edgeServerCSSManifest","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","constructor","options","dev","appDir","isEdgeServer","useServerActions","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","path","resource","layer","WEBPACK_LAYERS","client","ssrNamedModuleId","relative","context","startsWith","normalizePathSep","replace","traverseModules","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","push","String","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","addActionEntryList","actionMapsPerEntry","forEachEntryModule","entryModule","internalClientComponentEntryImports","Set","actionEntryImports","Map","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientImports","actionImports","collectComponentInfoFromDependencies","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","add","relativeRequest","bundlePath","injectClientEntryAndSSRModules","entryName","absolutePagePath","APP_CLIENT_INTERNALS","size","errors","Error","Object","entries","injectActionEntry","actions","collectClientEntryDependencyMap","clientEntryDependencyMap","entry","get","includeDependencies","getResolvedModule","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","tracked","has","clientActionImports","fromClient","Promise","all","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","isCSSMod","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","cssModules","cssImports","assign","data","manifest","JSON","stringify","undefined","FLIGHT_SERVER_CSS_MANIFEST","sources","RawSource","invalidator","getInvalidator","outputPath","some","shouldInvalidate","invalidate","COMPILER_NAMES","map","addClientEntryAndSSRModules","visitedBySegment","clientComponentImports","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","isCSS","modRequest","query","storeKey","isClientComponent","isClientComponentEntryModule","getActions","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","EDGE_RUNTIME_WEBPACK","test","Array","from","loaderOptions","server","clientLoader","importPath","sep","clientSSRLoader","getEntries","pageKey","getEntryKey","type","EntryTypes","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","__client_imported__","currentCompilerServerActions","p","id","generateActionId","workers","action","actionEntryDep","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","mapping","json","node","edge","SERVER_REFERENCE_MANIFEST"],"mappings":"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"}